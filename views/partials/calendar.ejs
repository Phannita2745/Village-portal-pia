<div class="bg-white shadow-sm ring-1 ring-gray-200 rounded-2xl p-4 md:p-5 h-[440px] overflow-hidden flex flex-col mb-6">
  <div class="flex items-center justify-between mb-3">
    <h2 class="font-semibold text-lg text-gray-900">ปฏิทิน</h2>
    <button id="btnSideCreate" class="inline-flex items-center rounded-xl px-3 py-1.5 text-sm font-medium bg-green-600 text-white">+ สร้าง</button>
  </div>
  <% const now=new Date();const year=now.getFullYear();const month=now.getMonth();
     const firstDay=new Date(year,month,1).getDay();const daysInMonth=new Date(year,month+1,0).getDate();
     const monthsTH=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"]; %>
  <div class="text-center mb-3">
    <p class="font-semibold text-base text-gray-800"><%= monthsTH[month] %> <%= year %></p>
  </div>
  <div class="grid grid-cols-7 gap-1.5 text-[12px] text-gray-500 mb-1">
    <div class="text-center">อา</div><div class="text-center">จ</div><div class="text-center">อ</div><div class="text-center">พ</div><div class="text-center">พฤ</div><div class="text-center">ศ</div><div class="text-center">ส</div>
  </div>
  <div class="grid grid-cols-7 gap-1.5 text-sm">
    <% for(let i=0;i<firstDay;i++){ %><div class="h-9"></div><% } %>
    <% for(let d=1;d<=daysInMonth;d++){ 
         const isToday=(d===now.getDate());const dow=new Date(year,month,d).getDay();
         const gcalDayUrl=`https://calendar.google.com/calendar/u/0/r/day/${year}/${month+1}/${d}`; %>
      <a href="<%= gcalDayUrl %>" target="_blank" class="date-cell h-9 rounded-lg flex items-center justify-center <%= isToday?'border-2 border-blue-500':'' %>">
        <span class="<%= (dow===0||dow===6)?'text-gray-500':'text-gray-800' %> font-medium"><%= d %></span>
      </a>
    <% } %>
  </div>
</div>
